// è¯·ä½ åˆ¤æ–­ä¸€ä¸ª 9 x 9 çš„æ•°ç‹¬æ˜¯å¦æœ‰æ•ˆã€‚åªéœ€è¦ æ ¹æ®ä»¥ä¸‹è§„åˆ™ ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚

// æ•°å­— 1 - 9 åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
// æ•°å­— 1 - 9 åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
// æ•°å­— 1 - 9 åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ 3x3 å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ï¼ˆè¯·å‚è€ƒç¤ºä¾‹å›¾ï¼‰

// æ³¨æ„ï¼š

// ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç‹¬ï¼ˆéƒ¨åˆ†å·²è¢«å¡«å……ï¼‰ä¸ä¸€å®šæ˜¯å¯è§£çš„ã€‚
// åªéœ€è¦æ ¹æ®ä»¥ä¸Šè§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚
// ç©ºç™½æ ¼ç”¨ '.' è¡¨ç¤ºã€‚

// ç¤ºä¾‹ 1ï¼š

// è¾“å…¥ï¼šboard =
//   [["5", "3", ".", ".", "7", ".", ".", ".", "."]
//     , ["6", ".", ".", "1", "9", "5", ".", ".", "."]
//     , [".", "9", "8", ".", ".", ".", ".", "6", "."]
//     , ["8", ".", ".", ".", "6", ".", ".", ".", "3"]
//     , ["4", ".", ".", "8", ".", "3", ".", ".", "1"]
//     , ["7", ".", ".", ".", "2", ".", ".", ".", "6"]
//     , [".", "6", ".", ".", ".", ".", "2", "8", "."]
//     , [".", ".", ".", "4", "1", "9", ".", ".", "5"]
//     , [".", ".", ".", ".", "8", ".", ".", "7", "9"]]
// è¾“å‡ºï¼štrue
// ç¤ºä¾‹ 2ï¼š

// è¾“å…¥ï¼šboard =
//   [["8", "3", ".", ".", "7", ".", ".", ".", "."]
//     , ["6", ".", ".", "1", "9", "5", ".", ".", "."]
//     , [".", "9", "8", ".", ".", ".", ".", "6", "."]
//     , ["8", ".", ".", ".", "6", ".", ".", ".", "3"]
//     , ["4", ".", ".", "8", ".", "3", ".", ".", "1"]
//     , ["7", ".", ".", ".", "2", ".", ".", ".", "6"]
//     , [".", "6", ".", ".", ".", ".", "2", "8", "."]
//     , [".", ".", ".", "4", "1", "9", ".", ".", "5"]
//     , [".", ".", ".", ".", "8", ".", ".", "7", "9"]]
// è¾“å‡ºï¼šfalse
// è§£é‡Šï¼šé™¤äº†ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªæ•°å­—ä» 5 æ”¹ä¸º 8 ä»¥å¤–ï¼Œç©ºæ ¼å†…å…¶ä»–æ•°å­—å‡ä¸ ç¤ºä¾‹1 ç›¸åŒã€‚ ä½†ç”±äºä½äºå·¦ä¸Šè§’çš„ 3x3 å®«å†…æœ‰ä¸¤ä¸ª 8 å­˜åœ¨, å› æ­¤è¿™ä¸ªæ•°ç‹¬æ˜¯æ— æ•ˆçš„ã€‚

// æç¤ºï¼š

// board.length == 9
// board[i].length == 9
// board[i][j] æ˜¯ä¸€ä½æ•°å­—ï¼ˆ1 - 9ï¼‰æˆ–è€… '.'

/**
 * @param {character[][]} board
 * @return {boolean}
 */
var isValidSudoku = function (board) {
  // console.log('ğŸš€ --> isValidSudoku --> board:', board);
  const len = board.length;
  let res = true;

  // Array(size).fill({ }) è¿™æ ·å¡«å……åˆ›å»ºçš„æ•°ç»„ï¼Œé‡Œé¢æ¯ä¸€é¡¹{ }æ˜¯å®Œå…¨ç›¸åŒçš„ !!! åˆ›å»ºäºŒç»´æ•°ç»„é¿å…ä½¿ç”¨fill
  // const mapX = new Array(9).fill(new Array())
  // console.log('ğŸš€ --> isValidSudoku --> mapX:', mapX);

  // forå¾ªç¯åˆ›å»ºçš„äºŒç»´æ•°ç»„
  const mapX = [];
  const mapY = [];
  const mapZ = [];
  for (let i = 0; i < 9; i++) {
    mapX[i] = [];
    mapY[i] = [];
    mapZ[i] = [];
  }

  // mapæ–¹æ³•
  // const mapX = Array(9).fill().map(() => [])

  //
  // const mapX = Array.from(Array(9), () => Array())

  // ä¹å®«æ ¼åˆ†ç±»
  // ä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œ0-2ï¼Œ3-5ï¼Œ6-8
  function divideNineSquareGrid(a, b) {
    const arr1 = [0, 1, 2];
    const arr2 = [3, 4, 5];
    const arr3 = [6, 7, 8];

    if (arr1.includes(a) && arr1.includes(b)) {
      return 0;
    }
    if (arr2.includes(a) && arr1.includes(b)) {
      return 1;
    }
    if (arr3.includes(a) && arr1.includes(b)) {
      return 2;
    }
    if (arr1.includes(a) && arr2.includes(b)) {
      return 3;
    }
    if (arr2.includes(a) && arr2.includes(b)) {
      return 4;
    }
    if (arr3.includes(a) && arr2.includes(b)) {
      return 5;
    }
    if (arr1.includes(a) && arr3.includes(b)) {
      return 6;
    }
    if (arr2.includes(a) && arr3.includes(b)) {
      return 7;
    }
    if (arr3.includes(a) && arr3.includes(b)) {
      return 8;
    }
  }

  outLoop: for (let i = 0; i < len; i++) {
    // console.log(i);
    innerLoop: for (let j = 0; j < len; j++) {
      const b = board[i][j];
      // åˆ¤æ–­xè½´
      if (b !== ".") {
        // console.log('ğŸš€ --> isValidSudoku --> b:', b);
        if (mapX[i].includes(b)) {
          res = false;
          break outLoop;
        } else {
          mapX[i].push(b);
        }

        // åˆ¤æ–­yè½´
        if (mapY[j].includes(b)) {
          res = false;
          break outLoop;
        } else {
          mapY[j].push(b);
        }

        // åˆ¤æ–­ä¹å®«æ ¼
        const z = divideNineSquareGrid(i, j);
        if (mapZ[z].includes(b)) {
          res = false;
          break outLoop;
        } else {
          mapZ[z].push(b);
        }
      }
    }

  }

  return res;
};

const input = [
  ["8", "3", ".", ".", "7", ".", ".", ".", "."],
  ["6", ".", ".", "1", "9", "5", ".", ".", "."],
  [".", "9", "8", ".", ".", ".", ".", "6", "."],
  ["8", ".", ".", ".", "6", ".", ".", ".", "3"],
  ["4", ".", ".", "8", ".", "3", ".", ".", "1"],
  ["7", ".", ".", ".", "2", ".", ".", ".", "6"],
  [".", "6", ".", ".", ".", ".", "2", "8", "."],
  [".", ".", ".", "4", "1", "9", ".", ".", "5"],
  [".", ".", ".", ".", "8", ".", ".", "7", "9"],
];

// const input =
//   [["5", "3", ".", ".", "7", ".", ".", ".", "."]
//     , ["6", ".", ".", "1", "9", "5", ".", ".", "."]
//     , [".", "9", "8", ".", ".", ".", ".", "6", "."]
//     , ["8", ".", ".", ".", "6", ".", ".", ".", "3"]
//     , ["4", ".", ".", "8", ".", "3", ".", ".", "1"]
//     , ["7", ".", ".", ".", "2", ".", ".", ".", "6"]
//     , [".", "6", ".", ".", ".", ".", "2", "8", "."]
//     , [".", ".", ".", "4", "1", "9", ".", ".", "5"]
//     , [".", ".", ".", ".", "8", ".", ".", "7", "9"]]



const result = isValidSudoku(input);
console.log("ğŸš€ --> result:", result);
